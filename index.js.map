{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst PIXABAY_API_KEY = '49339894-31872ba4c3578b0a106bd0c96';\nconst PIXABAY_BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImages(searchTerm) {\n  const result = await axios.get(PIXABAY_BASE_URL, {\n    params: {\n      key: PIXABAY_API_KEY,\n      q: searchTerm,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      lang: 'en',\n    },\n  });\n\n  if (result.data.hits.length === 0) {\n    throw new Error(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n  }\n\n  return result.data;\n}","import SimpleLightbox from 'simplelightbox';\n\nlet lightbox;\n\nexport const createGalleryMarkup = ({\n  webformatURL: smallIMG,\n  largeImageURL: largeIMG,\n  tags: alt,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeIMG}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${smallIMG}\"\n          alt=\"${alt}\"\n          loading=\"lazy\"\n        />\n      </a>\n      <ul class=\"description-list\">\n        <li class=\"description\"><span>Likes:</span> ${likes}</li>\n        <li class=\"description\"><span>Views:</span> ${views}</li>\n        <li class=\"description\"><span>Comments:</span> ${comments}</li>\n        <li class=\"description\"><span>Downloads:</span> ${downloads}</li>\n      </ul>\n    </li>`;\n};\n\nexport const createLightBox = () => {\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionDelay: 250,\n      captionsData: 'alt',\n    });\n  } else {\n    lightbox.refresh();\n  }\n};","import iziToast from 'izitoast';\nimport { getImages } from './js/pixabay-api';\nimport { createGalleryMarkup, createLightBox } from './js/render-functions';\n\nconst elements = {\n  searchForm: document.querySelector('.form'),\n  imageGallery: document.querySelector('.gallery'),\n  loaderBackdrop: document.querySelector('.backdrop'),\n};\n\nconst displayLoader = () =>\n  elements.loaderBackdrop.classList.remove('is-hidden');\nconst removeLoader = () => elements.loaderBackdrop.classList.add('is-hidden');\n\nconst showErrorToast = message => {\n  iziToast.error({\n    messageColor: '#fff',\n    backgroundColor: '#ef4040',\n    position: 'topRight',\n    message,\n    timeout: 5000,\n  });\n};\n\nconst handleSearchSubmit = event => {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements['search-text'].value.trim();\n\n  if (searchQuery === '') {\n    showErrorToast('Please enter a search query!');\n    return;\n  }\n\n  displayLoader();\n  elements.imageGallery.innerHTML = '';\n\n  getImages(searchQuery)\n    .then(({ hits }) => {\n      if (!hits.length) {\n        iziToast.error({\n          messageColor: '#fff',\n          close: false,\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 10000,\n        });\n        return;\n      }\n\n      const galleryMarkup = hits.map(createGalleryMarkup).join('');\n      elements.imageGallery.innerHTML = galleryMarkup;\n      createLightBox();\n      elements.searchForm.reset();\n    })\n    .catch(error => {\n      iziToast.error({\n        messageColor: '#fff',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        message: `Oops! ${\n          error.message || 'Something went wrong. Please try again later.'\n        }`,\n        timeout: 10000,\n      });\n    })\n    .finally(() => {\n      removeLoader();\n    });\n};\n\nelements.searchForm.addEventListener('submit', handleSearchSubmit);\n"],"names":["PIXABAY_API_KEY","PIXABAY_BASE_URL","getImages","searchTerm","result","axios","lightbox","createGalleryMarkup","smallIMG","largeIMG","alt","likes","views","comments","downloads","createLightBox","SimpleLightbox","elements","displayLoader","removeLoader","showErrorToast","message","iziToast","handleSearchSubmit","event","searchQuery","hits","galleryMarkup","error"],"mappings":"owBAEA,MAAMA,EAAkB,qCAClBC,EAAmB,2BAElB,eAAeC,EAAUC,EAAY,CAC1C,MAAMC,EAAS,MAAMC,EAAM,IAAIJ,EAAkB,CAC/C,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,IACP,CACL,CAAG,EAED,GAAIC,EAAO,KAAK,KAAK,SAAW,EAC9B,MAAM,IAAI,MACR,0EACN,EAGE,OAAOA,EAAO,IAChB,CCtBA,IAAIE,EAEG,MAAMC,EAAsB,CAAC,CAClC,aAAcC,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,sCAE6BL,CAAQ;AAAA;AAAA;AAAA,iBAG7BD,CAAQ;AAAA,iBACRE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,sDAKkCC,CAAK;AAAA,sDACLC,CAAK;AAAA,yDACFC,CAAQ;AAAA,0DACPC,CAAS;AAAA;AAAA,WAKtDC,EAAiB,IAAM,CAC7BT,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIU,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,IACd,aAAc,KACpB,CAAK,CAIL,ECtCMC,EAAW,CACf,WAAY,SAAS,cAAc,OAAO,EAC1C,aAAc,SAAS,cAAc,UAAU,EAC/C,eAAgB,SAAS,cAAc,WAAW,CACpD,EAEMC,EAAgB,IACpBD,EAAS,eAAe,UAAU,OAAO,WAAW,EAChDE,EAAe,IAAMF,EAAS,eAAe,UAAU,IAAI,WAAW,EAEtEG,EAAiBC,GAAW,CAChCC,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAAD,EACA,QAAS,GACb,CAAG,CACH,EAEME,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEtE,GAAIC,IAAgB,GAAI,CACtBL,EAAe,8BAA8B,EAC7C,MACD,CAEDF,IACAD,EAAS,aAAa,UAAY,GAElCf,EAAUuB,CAAW,EAClB,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,GAAI,CAACA,EAAK,OAAQ,CAChBJ,EAAS,MAAM,CACb,aAAc,OACd,MAAO,GACP,gBAAiB,UACjB,SAAU,WACV,QACE,2EACF,QAAS,GACnB,CAAS,EACD,MACD,CAED,MAAMK,EAAgBD,EAAK,IAAInB,CAAmB,EAAE,KAAK,EAAE,EAC3DU,EAAS,aAAa,UAAYU,EAClCZ,IACAE,EAAS,WAAW,OAC1B,CAAK,EACA,MAAMW,GAAS,CACdN,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAS,SACPM,EAAM,SAAW,+CAC3B,GACQ,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,GACN,CAAK,CACL,EAEAF,EAAS,WAAW,iBAAiB,SAAUM,CAAkB"}